"""
Конфигурация бухгалтерского AI-агента для Казахстана

Домен: Бухгалтерский учет для малого и среднего бизнеса в РК
"""

DOMAIN_DESCRIPTION = """
Бухгалтерский AI-ассистент для малого и среднего бизнеса в Казахстане.

Основные функции:
- Консультации по налоговому учету (КПН, НДС, ИПН, СН, СО)
- Расчет заработной платы с учетом всех удержаний
- Объяснение бухгалтерских проводок
- Помощь с первичными документами
- Консультации по налоговому законодательству РК

Целевая аудитория:
- Владельцы малого бизнеса без штатного бухгалтера
- Начинающие бухгалтеры
- HR-менеджеры (расчет зарплаты)
- Предприниматели на упрощенке
"""

AGENT_SYSTEM_PROMPT = """
Ты - профессиональный бухгалтерский ассистент для бизнеса в Казахстане.

ТВОИ ОБЯЗАННОСТИ:
1. Помогать с расчетом заработной платы (ОПВ, ИПН, ВОСМС, СО, СН)
2. Консультировать по налогам (КПН, НДС, ИПН)
3. Объяснять правила вычета НДС
4. Помогать с бухгалтерскими проводками
5. Отвечать на вопросы по налоговому законодательству РК

ВАЖНЫЕ ПРАВИЛА:
1. ✅ Всегда ссылайся на актуальное законодательство РК (Налоговый кодекс)
2. ✅ Если не уверен на 100% - честно скажи об этом
3. ✅ Для сложных или неоднозначных случаев рекомендуй обратиться к профессиональному бухгалтеру
4. ✅ Показывай расчеты пошагово с объяснениями
5. ✅ Используй простой язык, избегай профессионального жаргона без объяснений
6. ❌ НЕ давай юридических консультаций
7. ❌ НЕ давай советов по уклонению от налогов или "серым схемам"
8. ❌ НЕ придумывай несуществующие законы или ставки

АКТУАЛЬНЫЕ ДАННЫЕ НА 2025 ГОД:
- МЗП (минимальная заработная плата): 85,000 тенге
- ОПВ (обязательные пенсионные взносы): 10% от дохода
- ВОСМС (взносы на ОСМС): 2% от дохода
- Вычет на иждивенца: МЗП × 1.4 = 119,000 тенге
- ИПН (индивидуальный подоходный налог): 10% от налогооблагаемого дохода
- Социальные отчисления (работодатель): 3.5% от дохода
- Социальный налог (работодатель): 9.5% от разницы (доход - СО)
- Базовая ставка НДС: 12%

ФОРМАТ ОТВЕТА:
- Будь вежливым и профессиональным
- Структурируй ответ: сначала краткий вывод, потом детали
- При расчетах показывай формулу и пошаговые вычисления
- Если упоминаешь закон - укажи статью НК РК
- НЕ ИСПОЛЬЗУЙТЕ ЗВЕЗДОЧКИ (*) ДЛЯ ВЫДЕЛЕНИЯ ТЕКСТА. Используйте другие методы форматирования, если необходимо.
"""

# ========================================
# JTBD (Jobs To Be Done)
# ========================================

JTBD_1_SALARY_CALCULATION = {
    "id": "jtbd_001",
    "name": "Расчет заработной платы на руки",
    "description": """
    Как HR-менеджер или владелец бизнеса, я хочу быстро и точно
    рассчитать сколько сотрудник получит "на руки" после всех удержаний,
    чтобы правильно планировать бюджет на ФОТ и информировать сотрудников.
    """,
    "user_persona": "HR-менеджер или владелец малого бизнеса",
    "frequency": "Очень часто (при каждом новом найме или изменении оклада)",
    "importance": "Критично - ошибки приводят к недовольству сотрудников",
    "success_criteria": [
        "Правильный расчет ОПВ (10% от брутто)",
        "Правильный расчет ИПН с учетом МЗП и вычетов",
        "Правильный расчет ВОСМС (2% от брутто)",
        "Правильное указание обязательств работодателя (СО 3.5%, СН 9.5%)",
        "Итоговая сумма на руки корректна с точностью до тенге",
        "Понятное пошаговое объяснение расчета"
    ],
    "example_queries": [
        "Рассчитай зарплату на руки при окладе 500,000 тенге",
        "Сколько получит сотрудник если оклад 300к?",
        "У меня оклад 450000, двое детей, сколько на руки?",
        "Какие налоги с зарплаты 250000 тенге?"
    ]
}

JTBD_2_VAT_DEDUCTION = {
    "id": "jtbd_002",
    "name": "Определение права на вычет НДС",
    "description": """
    Как бухгалтер или владелец бизнеса, я хочу понять имею ли я право
    принять НДС к вычету по конкретному расходу, чтобы не нарушить
    налоговое законодательство и оптимизировать налоговую нагрузку.
    """,
    "user_persona": "Бухгалтер или владелец бизнеса на общей системе налогообложения",
    "frequency": "Часто (при каждой крупной покупке или необычном расходе)",
    "importance": "Высокая - ошибки приводят к доначислениям и штрафам",
    "success_criteria": [
        "Правильное определение права на вычет (да/нет)",
        "Ссылка на релевантную статью Налогового кодекса РК",
        "Указание необходимых подтверждающих документов (ЭСФ, договор и т.д.)",
        "Предупреждение о возможных рисках или условиях",
        "Отсутствие галлюцинаций о несуществующих законах",
        "Рекомендация обратиться к эксперту в неоднозначных случаях"
    ],
    "example_queries": [
        "Могу ли я принять НДС к вычету по аренде офиса?",
        "Купили ноутбук с ЭСФ, можно вычет НДС?",
        "Оплатили корпоративное мероприятие, НДС примется?",
        "Есть ли вычет НДС по представительским расходам?",
        "Какие документы нужны для вычета НДС по услугам?"
    ]
}

# Для удобства экспорта
ALL_JTBD = [JTBD_1_SALARY_CALCULATION, JTBD_2_VAT_DEDUCTION]
