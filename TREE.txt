accounting-agent-evals/
â”‚
â”œâ”€â”€ ğŸ“š Documentation
â”‚   â”œâ”€â”€ README.md                  # ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ QUICKSTART.md              # Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚ (5 Ğ¼Ğ¸Ğ½ÑƒÑ‚)
â”‚   â”œâ”€â”€ ARCHITECTURE.md            # ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
â”‚   â”œâ”€â”€ PROJECT_SUMMARY.md         # ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
â”‚   â””â”€â”€ TREE.txt                   # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
â”‚
â”œâ”€â”€ ğŸ”§ Configuration
â”‚   â”œâ”€â”€ .env                       # API ĞºĞ»ÑÑ‡Ğ¸ (Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ñ‚ÑŒ!)
â”‚   â”œâ”€â”€ .env.example               # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ .gitignore                 # Git ignore rules
â”‚   â””â”€â”€ requirements.txt           # Python Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”‚
â”œâ”€â”€ ğŸš€ User Scripts
â”‚   â”œâ”€â”€ setup.sh                   # ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
â”‚   â”œâ”€â”€ check_setup.py             # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ test_agent.py              # Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ generate_data.py           # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â””â”€â”€ run_evals.py               # Ğ—Ğ°Ğ¿ÑƒÑĞº evaluation
â”‚
â”œâ”€â”€ ğŸ“¦ Source Code (src/)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¤– Agent Module (agent/)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py              # Domain config, JTBD, system prompt
â”‚   â”‚   â”œâ”€â”€ prompts.py             # Task-specific prompts
â”‚   â”‚   â””â”€â”€ agent.py               # Main agent logic
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ§ª Evaluation Module (evals/)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ evaluator.py           # Gemini-based evaluator
â”‚   â”‚   â”œâ”€â”€ test_correctness.py    # Correctness Ñ‚ĞµÑÑ‚Ñ‹ (pytest)
â”‚   â”‚   â””â”€â”€ test_safety.py         # Safety Ñ‚ĞµÑÑ‚Ñ‹ (pytest)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ› ï¸ Utils Module (utils/)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ gemini_client.py       # Gemini API wrapper
â”‚   â”‚   â”œâ”€â”€ data_generator.py      # Synthetic data generator
â”‚   â”‚   â””â”€â”€ eval_runner.py         # Evaluation orchestrator
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ’¾ Data (data/)
â”‚       â”œâ”€â”€ .gitkeep
â”‚       â””â”€â”€ synthetic_conversations.json  # Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
â”‚
â”œâ”€â”€ ğŸ“Š Results (results/)
â”‚   â”œâ”€â”€ .gitkeep
â”‚   â”œâ”€â”€ salary_correctness_results.json      # ĞŸĞ¾ÑĞ»Ğµ run_evals.py
â”‚   â”œâ”€â”€ vat_correctness_results.json         # ĞŸĞ¾ÑĞ»Ğµ run_evals.py
â”‚   â”œâ”€â”€ adversarial_safety_results.json      # ĞŸĞ¾ÑĞ»Ğµ run_evals.py
â”‚   â”œâ”€â”€ edge_case_safety_results.json        # ĞŸĞ¾ÑĞ»Ğµ run_evals.py
â”‚   â””â”€â”€ report.md                            # Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚
â”‚
â”œâ”€â”€ ğŸ§ª Tests (tests/)
â”‚   â””â”€â”€ __init__.py                # Unit tests (Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ)
â”‚
â””â”€â”€ ğŸ““ Notebooks (notebooks/)
    â””â”€â”€ (Ğ¿ÑƒÑÑ‚Ğ¾)                    # Jupyter Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· (Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FILE DESCRIPTIONS

Core Agent:
  config.py         â†’ JTBD, domain knowledge, system prompt
  prompts.py        â†’ Salary/VAT/general prompts
  agent.py          â†’ Query classification, response generation

Evaluation:
  evaluator.py      â†’ Gemini-based correctness/safety evaluator
  test_correctness  â†’ Pytest tests for salary + VAT
  test_safety       â†’ Adversarial + edge case tests

Infrastructure:
  gemini_client.py  â†’ API wrapper with factories
  data_generator.py â†’ Synthetic scenario generator
  eval_runner.py    â†’ Orchestration + reporting

User Scripts:
  setup.sh          â†’ One-command setup
  check_setup.py    â†’ Verify installation
  test_agent.py     â†’ Interactive REPL
  generate_data.py  â†’ Create test scenarios
  run_evals.py      â†’ Full evaluation pipeline

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ QUICK COMMANDS

Setup:
  ./setup.sh                                  # Initial setup
  source venv/bin/activate                    # Activate venv
  python check_setup.py                       # Verify

Usage:
  python test_agent.py                        # Interactive mode
  python generate_data.py                     # Generate test data
  python run_evals.py                         # Run full evaluation

Testing:
  pytest src/evals/ -v                        # All tests
  pytest src/evals/test_correctness.py -v     # Correctness only
  pytest src/evals/test_safety.py -v          # Safety only

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š METRICS & THRESHOLDS

Correctness (70% pass rate required):
  - Salary calculations: Â±10 Ñ‚ĞµĞ½Ğ³Ğµ accuracy
  - VAT consultations: Legal references required
  - Score range: 0-100

Safety (80% pass rate, 0 critical failures):
  - Adversarial resistance: Must refuse illegal advice
  - Professional boundaries: No legal/tax evasion advice
  - Severity levels: none | low | medium | high | critical

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— KEY INTEGRATIONS

External APIs:
  - Google Gemini API (2.0 Flash + Thinking models)

Data Flow:
  User Query â†’ Agent â†’ Gemini API â†’ Response
  Response â†’ Evaluator â†’ Gemini API â†’ Evaluation Result
  Results â†’ Reporter â†’ Markdown Report

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… VERSION INFO

Project: Accounting Agent Evaluation Framework
Version: 1.0.0
Created: 2025-12-06
Status: Production Ready âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
